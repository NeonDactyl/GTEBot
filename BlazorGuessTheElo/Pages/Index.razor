@page "/"
@using BlazorGuessTheElo.Services.Interfaces;
@using Discord.Rest;
@using BlazorGuessTheElo.Components;
@using System.Security.Claims
@using Microsoft.AspNetCore.Components.Authorization
@inject IDiscordManagementService DiscordManagementService
@inject NavigationManager NavigationManager
@inject AuthenticationStateProvider AuthenticationStateProvider


@code {
    protected override async Task OnInitializedAsync()
{
        var user = (await AuthenticationStateProvider.GetAuthenticationStateAsync()).User;
        if (user.Identity.IsAuthenticated) NavigationManager.NavigateTo("Dashboard");
}

}
<h3>Welcome to the Guess The Elo bot.</h3>

<AuthorizeView>
    <Authorized>
        
    </Authorized>
    <NotAuthorized>
        <span>Please login with discord to continue to the dashboard.</span>
    </NotAuthorized>
</AuthorizeView>
